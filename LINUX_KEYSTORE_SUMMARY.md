# Linuxå¯†é’¥å­˜å‚¨å®ç°æ€»ç»“

## å®ç°å†…å®¹

ä¸ºUniLLM-TSå®ç°äº†å®Œæ•´çš„Linuxå¹³å°å¯†é’¥å­˜å‚¨ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒUbuntuã€CentOSã€Debianç­‰ä¸»æµå‘è¡Œç‰ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

### 1. åŒå±‚å®‰å…¨æ¶æ„

```
libsecret (ç³»ç»Ÿå¯†é’¥ç¯) â†â†’ è‡ªåŠ¨åˆ‡æ¢ â†â†’ åŠ å¯†æ–‡ä»¶å­˜å‚¨ (AES-256-GCM)
     ä¼˜å…ˆæ–¹æ¡ˆ                              å®‰å…¨Fallback
```

- **Primary**: libsecretï¼ˆGNOME Keyring/KDE Walletï¼‰
- **Fallback**: AES-256-GCMåŠ å¯†æ–‡ä»¶å­˜å‚¨

### 2. å®‰å…¨æ€§è®¾è®¡

- âœ… AES-256-GCMè®¤è¯åŠ å¯†
- âœ… PBKDF2å¯†é’¥æ´¾ç”Ÿï¼ˆ100,000æ¬¡è¿­ä»£ï¼‰
- âœ… åŸºäºæœºå™¨IDé˜²æ­¢æ–‡ä»¶è¿ç§»
- âœ… æ–‡ä»¶æƒé™600/700
- âœ… éšæœºIVé˜²æ­¢é‡æ”¾æ”»å‡»
- âœ… è®¤è¯æ ‡ç­¾é˜²æ­¢ç¯¡æ”¹

### 3. è·¨å‘è¡Œç‰ˆæ”¯æŒ

| å‘è¡Œç‰ˆ | æ”¯æŒçŠ¶æ€ | æ¨èæ–¹æ¡ˆ |
|-------|---------|---------|
| Ubuntu/Debian | âœ… å®Œå…¨æ”¯æŒ | libsecret |
| CentOS/RHEL | âœ… å®Œå…¨æ”¯æŒ | libsecret |
| Fedora | âœ… å®Œå…¨æ”¯æŒ | libsecret |
| Arch Linux | âœ… å®Œå…¨æ”¯æŒ | libsecret |
| HeadlessæœåŠ¡å™¨ | âœ… å®Œå…¨æ”¯æŒ | åŠ å¯†æ–‡ä»¶ |

## æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒå®ç°
- âœ… `src/storage/linux.ts` - Linuxå­˜å‚¨å®ç°ï¼ˆ372è¡Œï¼‰
- âœ… `src/storage/factory.ts` - æ›´æ–°å·¥å‚ç±»é›†æˆLinuxå­˜å‚¨

### ç¤ºä¾‹å’Œæµ‹è¯•
- âœ… `examples/linux-storage.ts` - ä½¿ç”¨ç¤ºä¾‹
- âœ… `examples/test-linux-storage.ts` - å®Œæ•´æµ‹è¯•å¥—ä»¶

### æ–‡æ¡£
- âœ… `docs/linux-storage.md` - è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
- âœ… `docs/linux-installation.md` - å®‰è£…å’Œé…ç½®æŒ‡å—
- âœ… `docs/LINUX_KEYSTORE_IMPLEMENTATION.md` - å®ç°è¯´æ˜
- âœ… `README.md` - æ›´æ–°å¹³å°æ”¯æŒè¯´æ˜
- âœ… `INSTALL.md` - æ›´æ–°Linuxå®‰è£…æŒ‡å—
- âœ… `package.json` - æ·»åŠ ç¤ºä¾‹å’Œæµ‹è¯•è„šæœ¬

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# Ubuntu/Debian
sudo apt-get install libsecret-1-dev gnome-keyring
npm install unillm-ts

# CentOS/RHEL
sudo yum install libsecret-devel gnome-keyring
npm install unillm-ts
```

### ä½¿ç”¨

```typescript
import { LinuxStorage } from 'unillm-ts/storage/linux';

const storage = new LinuxStorage('unillm');

// å­˜å‚¨å¯†é’¥
await storage.setSecret('api-key', 'sk-xxxxx');

// è¯»å–å¯†é’¥
const apiKey = await storage.getSecret('api-key');

// æ£€æŸ¥åç«¯
console.log(storage.getStorageBackend()); // 'libsecret' æˆ– 'encrypted-file'
```

### æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm run test:linux-storage

# è¿è¡Œç¤ºä¾‹
npm run examples:linux-storage
```

## æµ‹è¯•ç»“æœ

âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š
- åŸºæœ¬æ“ä½œï¼ˆå­˜å‚¨ã€è¯»å–ã€åˆ é™¤ã€æ¸…ç©ºï¼‰
- è¾¹ç•Œæƒ…å†µï¼ˆç©ºå€¼ã€ç‰¹æ®Šå­—ç¬¦ã€é•¿æ–‡æœ¬ã€JSONï¼‰
- å¹¶å‘æ“ä½œï¼ˆå¹¶å‘è¯»å†™ï¼‰
- çœŸå®åœºæ™¯ï¼ˆå¤šAPIå¯†é’¥ç®¡ç†ï¼‰
- åç«¯æ£€æµ‹å’Œåˆ‡æ¢

## æŠ€æœ¯äº®ç‚¹

1. **è‡ªåŠ¨é™çº§æœºåˆ¶**
   - libsecretä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°åŠ å¯†æ–‡ä»¶
   - ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œä¿è¯å¯ç”¨æ€§

2. **å¼ºåŠ å¯†æ–¹æ¡ˆ**
   - AES-256-GCMï¼ˆAEADè®¤è¯åŠ å¯†ï¼‰
   - PBKDF2å¯†é’¥æ´¾ç”Ÿï¼ˆSHA-256, 100kè¿­ä»£ï¼‰
   - éšæœºIV + è®¤è¯æ ‡ç­¾

3. **æœºå™¨IDç»‘å®š**
   - è¯»å–`/etc/machine-id`æˆ–`/var/lib/dbus/machine-id`
   - é˜²æ­¢åŠ å¯†æ–‡ä»¶åœ¨å…¶ä»–æœºå™¨ä¸Šè§£å¯†
   - æä¾›é¢å¤–çš„å®‰å…¨å±‚

4. **å®Œå–„çš„é”™è¯¯å¤„ç†**
   - ä¼˜é›…çš„é™çº§ç­–ç•¥
   - è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
   - æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

## å®‰å…¨æ€§è¯„ä¼°

### libsecretæ–¹æ¡ˆ
- ç³»ç»Ÿçº§å®‰å…¨ â­â­â­â­â­
- ç”¨æˆ·ä½“éªŒ â­â­â­â­â­
- è·¨å¹³å°æ€§ â­â­â­â­
- é€‚ç”¨åœºæ™¯ï¼šæ¡Œé¢åº”ç”¨ã€å¼€å‘ç¯å¢ƒ

### åŠ å¯†æ–‡ä»¶æ–¹æ¡ˆ
- åŠ å¯†å¼ºåº¦ â­â­â­â­â­
- ä¾¿æºæ€§ â­â­â­â­â­
- é˜²æŠ¤èƒ½åŠ› â­â­â­â­
- é€‚ç”¨åœºæ™¯ï¼šæœåŠ¡å™¨ã€å®¹å™¨ã€CI/CD

## å…¼å®¹æ€§

- âœ… å‘åå…¼å®¹ç°æœ‰API
- âœ… æ— ç ´åæ€§å˜æ›´
- âœ… æ”¯æŒNode.js 16+
- âœ… TypeScript 5.0+

## æ€§èƒ½

- libsecretï¼š10-100msï¼ˆé¦–æ¬¡è¾ƒæ…¢ï¼Œåç»­å¿«é€Ÿï¼‰
- åŠ å¯†æ–‡ä»¶ï¼š5-10msï¼ˆç¨³å®šï¼‰
- å†…å­˜å ç”¨ï¼š<5MB

## æ–‡æ¡£å®Œæ•´åº¦

- âœ… APIæ–‡æ¡£
- âœ… å®‰è£…æŒ‡å—
- âœ… ä½¿ç”¨ç¤ºä¾‹
- âœ… æ•…éšœæ’é™¤
- âœ… å®‰å…¨æ€§åˆ†æ
- âœ… æ€§èƒ½æŒ‡æ ‡
- âœ… æœ€ä½³å®è·µ

## ä¸‹ä¸€æ­¥å»ºè®®

1. **ç”Ÿäº§ç¯å¢ƒ**
   - å®‰è£…libsecretä¾èµ–è·å¾—æœ€ä½³å®‰å…¨æ€§
   - é…ç½®å¯†é’¥ç¯å¯†ç ä¿æŠ¤
   - å¯ç”¨è‡ªåŠ¨é”å®šç­–ç•¥

2. **å¼€å‘ç¯å¢ƒ**
   - å¯ç›´æ¥ä½¿ç”¨åŠ å¯†æ–‡ä»¶å­˜å‚¨
   - é…ç½®`.gitignore`æ’é™¤å¯†é’¥æ–‡ä»¶

3. **å®¹å™¨ç¯å¢ƒ**
   - æ¨èä½¿ç”¨Docker secretsæˆ–ç¯å¢ƒå˜é‡
   - åŠ å¯†æ–‡ä»¶å­˜å‚¨ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ

## ç›¸å…³å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–ï¼ˆUbuntuï¼‰
sudo apt-get install libsecret-1-dev gnome-keyring

# è¿è¡Œæµ‹è¯•
npm run test:linux-storage

# è¿è¡Œç¤ºä¾‹
npm run examples:linux-storage

# TypeScriptç±»å‹æ£€æŸ¥
npx tsc --noEmit

# æŸ¥çœ‹å­˜å‚¨ç›®å½•
ls -la ~/.unillm/secrets/
```

## æ”¯æŒå’Œåé¦ˆ

- ğŸ“– è¯¦ç»†æ–‡æ¡£ï¼š`docs/linux-storage.md`
- ğŸ”§ å®‰è£…æŒ‡å—ï¼š`docs/linux-installation.md`
- ğŸ’¡ ç¤ºä¾‹ä»£ç ï¼š`examples/linux-storage.ts`
- ğŸ§ª æµ‹è¯•ä»£ç ï¼š`examples/test-linux-storage.ts`

## å®ç°å›¢é˜Ÿ

- å¼€å‘ï¼šAI Assistant
- æµ‹è¯•ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•
- å®¡æ ¸ï¼šå¾…å®š

---

**å®ç°å®Œæˆæ—¥æœŸ**: 2024å¹´11æœˆ
**ç‰ˆæœ¬**: v1.0.0
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼Œæµ‹è¯•é€šè¿‡
